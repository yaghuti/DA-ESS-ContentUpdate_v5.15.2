<!--
#############
# Automatically generated by 'contentctl build' from 
# https://github.com/splunk/contentctl
# On Date: 2025-09-26T16:59:44 UTC
# Author: Splunk Threat Research Team - Splunk
# Contact: research@splunk.com
#############
-->
<dashboard version="2" theme="light">
    <label>ES Content Update Deprecation Assistant</label>
    <description></description>
    <definition><![CDATA[
{
    "visualizations": {
        "viz_3LyzQnHF": {
            "type": "splunk.table",
            "dataSources": {
                "primary": "ds_XLF8OFjY"
            },
            "title": "Enabled Detections Removed or Deprecated",
            "options": {
                "columnFormat": {
                    "title": {
                        "width": 30
                    },
                    "Reason": {
                        "width": 325
                    },
                    "Replacement Content": {
                        "width": 281
                    },
                    "Deprecated Content": {
                        "width": 246
                    },
                    "#": {
                        "width": 30
                    }
                },
                "backgroundColor": "> themes.defaultBackgroundColor",
                "tableFormat": {
                    "rowBackgroundColors": "> table | seriesByIndex(0) | pick(tableAltRowBackgroundColorsByTheme)"
                },
                "showRowNumbers": true,
                "headerVisibility": "fixed"
            },
            "description": "Name of the enabled deprecated or removed detections, replacement content (if any)",
            "eventHandlers": [
                {
                    "type": "drilldown.customUrl",
                    "options": {
                        "url": "/app/SplunkEnterpriseSecuritySuite/ess_content_management",
                        "newTab": true
                    }
                }
            ]
        },
        "viz_JF4uF6WN": {
            "type": "splunk.singlevalue",
            "dataSources": {
                "primary": "ds_M1iCZEYU"
            },
            "title": "Total enabled deprecated detections and baselines",
            "description": "Number of deprecated ESCU detections and baselines enabled in your system.",
            "options": {
                "majorColor": "#dc4e41",
                "trendColor": "#dc4e41"
            }
        },
        "viz_nRLZg7IN": {
            "type": "splunk.markdown",
            "options": {
                "markdown": "\u26a0\ufe0f  Beginning in **ESCU v5.2.0,** the Splunk Threat Research Team will begin **deprecating**, and **removing**, some dated or poorly-performing content from ESCU Releases.  This allows STRT to deliver users high quality, tested, timely, and useful content.  This dashboard makes it easy to quickly determine if this Splunk Environment is using content which has already been deprecated or will be deprecated in the future.\n\n\nThe following Detections, Baselines, Analytic Stories, and Investigations will be removed in an upcoming release. \n\nFor more in-depth information about which pieces content will be removed and their replacements, please refer to the docs - [https://help.splunk.com/en/splunk-enterprise-security-8/security-content-update/how-to-use-splunk-security-content/5.8/use-splunk-security-content/deprecated-analytics-from-escu-versions-5.6.0-and-higher](https://help.splunk.com/en/splunk-enterprise-security-8/security-content-update/how-to-use-splunk-security-content/5.8/use-splunk-security-content/deprecated-analytics-from-escu-versions-5.6.0-and-higher).",
                "fontSize": "large"
            }
        },
        "viz_OoiLEWWD": {
            "type": "splunk.table",
            "title": "Analytic Stories Removed or Deprecated",
            "dataSources": {
                "primary": "ds_e8PriBs3"
            },
            "options": {
                "columnFormat": {
                    "title": {
                        "width": 30
                    },
                    "deprecated_story": {
                        "width": 48
                    },
                    "Deprecated Story": {
                        "width": 273
                    },
                    "#": {
                        "width": 34
                    },
                    "Reason": {
                        "width": 382
                    },
                    "Replacement Content": {
                        "width": 287
                    }
                },
                "showRowNumbers": true,
                "headerVisibility": "fixed"
            },
            "showProgressBar": false,
            "showLastUpdated": false,
            "description": "All ESCU Analytic Stories that are removed or  marked as deprecated",
            "eventHandlers": [
                {
                    "type": "drilldown.customUrl",
                    "options": {
                        "url": "/app/SplunkEnterpriseSecuritySuite/ess_content_management",
                        "newTab": true
                    }
                }
            ]
        },
        "viz_G4v3xqNG": {
            "type": "splunk.markdown",
            "options": {
                "markdown": "## \u26a0\ufe0f Required Action\n\nIf you are using any of these detections, please: ensure you have a full copy of the detection including all other knowledge objects like lookups and macros by cloning it in Splunk before installing **ESCU v5.2.0** and beyond! \n\nIn order to avoid losing important changes and ensure smooth management, you can clone deprecated searches before the app upgrade. \n\n- Click on [ES Content Management](/app/SplunkEnterpriseSecuritySuite/ess_content_management?appFilter=DA-ESS-ContentUpdate)\n\n- Search for the exact search name from the below table and click Clone\n\n- Update it with a unique name to avoid collisions\n\n- If the detection is using any lookups or macros, please make sure you create a back up of these knowledge objects\n\nIf you are using a detection from this list, please review this [guide](https://help.splunk.com/en/splunk-enterprise-security-8/security-content-update/how-to-use-splunk-security-content/5.8/use-splunk-security-content/deprecated-analytics-from-escu-versions-5.6.0-and-higher) for deprecated analytics. \n\n\n\n\n\n",
                "fontSize": "large",
                "fontColor": "#000000"
            },
            "eventHandlers": [
                {
                    "type": "drilldown.customUrl",
                    "options": {
                        "url": "/app/SplunkEnterpriseSecuritySuite/ess_content_management?appFilter=DA-ESS-ContentUpdate",
                        "newTab": true
                    }
                }
            ]
        }
    },
    "dataSources": {
        "ds_XLF8OFjY": {
            "type": "ds.search",
            "options": {
                "query": "| rest /servicesNS/-/DA-ESS-ContentUpdate/configs/conf-savedsearches \n| search disabled=0 eai:acl.app=\"DA-ESS-ContentUpdate\"\n| table title, description \n| lookup deprecation_info Name as title OUTPUT \"Removed in Version\" \"Replacement Content\" \"Content Type\" Reason\n| rename title as \"Deprecated Content\" \n| search \"Content Type\" = \"Detection\" OR \"Content Type\" = \"Baseline\"\n| table  \"Deprecated Content\" \"Replacement Content\" Reason \"Removed in Version\"",
                "queryParameters": {
                    "earliest": "-24h@h",
                    "latest": "now"
                }
            },
            "name": "Deprecated Searches and Baselines in Use Table"
        },
        "ds_M1iCZEYU": {
            "type": "ds.search",
            "options": {
                "query": "| rest /servicesNS/-/DA-ESS-ContentUpdate/configs/conf-savedsearches \n| search disabled=0 eai:acl.app=\"DA-ESS-ContentUpdate\"\n| table title, description \n| lookup deprecation_info Name as title OUTPUT \"Removed in Version\" \"Replacement Content\" \"Content Type\" Reason | search \"Content Type\" = \"Detection\" OR \"Content Type\" = \"Baseline\" | stats count",
                "queryParameters": {
                    "earliest": "-24h@h",
                    "latest": "now"
                }
            },
            "name": "Total Number of Enabled Deprecated Searches and Baselines"
        },
        "ds_e8PriBs3": {
            "type": "ds.search",
            "options": {
                "query": "| inputlookup deprecation_info \n| search \"Content Type\" = \"Story\" \n| rename \"Name\" as \"Deprecated Story\" \n| table \"Deprecated Story\" \"Replacement Content\" Reason \"Removed in Version\" \n| sort \"Removed in Version\"",
                "queryParameters": {
                    "earliest": "-24h@h",
                    "latest": "now"
                }
            },
            "name": "Deprecated Analytic Stories Table"
        }
    },
    "defaults": {
        "dataSources": {
            "ds.search": {
                "options": {
                    "queryParameters": {
                        "latest": "$global_time.latest$",
                        "earliest": "$global_time.earliest$"
                    }
                }
            }
        }
    },
    "inputs": {},
    "layout": {
        "type": "grid",
        "options": {
            "width": 1440,
            "height": 960
        },
        "structure": [
            {
                "item": "viz_nRLZg7IN",
                "type": "block",
                "position": {
                    "x": 0,
                    "y": 0,
                    "w": 704,
                    "h": 218
                }
            },
            {
                "item": "viz_G4v3xqNG",
                "type": "block",
                "position": {
                    "x": 0,
                    "y": 218,
                    "w": 1440,
                    "h": 276
                }
            },
            {
                "item": "viz_3LyzQnHF",
                "type": "block",
                "position": {
                    "x": 0,
                    "y": 494,
                    "w": 1440,
                    "h": 362
                }
            },
            {
                "item": "viz_OoiLEWWD",
                "type": "block",
                "position": {
                    "x": 0,
                    "y": 856,
                    "w": 1440,
                    "h": 376
                }
            },
            {
                "item": "viz_JF4uF6WN",
                "type": "block",
                "position": {
                    "x": 704,
                    "y": 0,
                    "w": 736,
                    "h": 218
                }
            }
        ],
        "globalInputs": []
    },
    "description": "This deprecation assistant helps ESCU users identify detection analytics that are marked as DEPRECATED by the Splunk Threat Research Team which are currently enabled in your Splunk Environment",
    "title": "ES Content Update Deprecation Assistant"
}
    ]]></definition>
    <meta type="hiddenElements"><![CDATA[
{
	"hideEdit": false,
	"hideOpenInSearch": false,
	"hideExport": false
}
    ]]></meta>
</dashboard>